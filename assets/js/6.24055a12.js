(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{174:function(t,e,_){t.exports=_.p+"assets/img/1.23b9c262.png"},175:function(t,e,_){t.exports=_.p+"assets/img/2.8af0c554.png"},176:function(t,e,_){t.exports=_.p+"assets/img/3.d4ff9482.png"},177:function(t,e,_){t.exports=_.p+"assets/img/4.3eddadfb.png"},232:function(t,e,_){"use strict";_.r(e);var v=[function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("table",[_("thead",[_("tr",[_("th",[t._v("命令")]),t._v(" "),_("th",[t._v("value")]),t._v(" "),_("th",[t._v("解释")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("FROM")]),t._v(" "),_("td",[t._v("centos")]),t._v(" "),_("td",[t._v("基础镜像")])]),t._v(" "),_("tr",[_("td",[t._v("LABEL")]),t._v(" "),_("td",[t._v("version='1.0'")]),t._v(" "),_("td",[t._v("基本信息")])]),t._v(" "),_("tr",[_("td",[t._v("RUN")]),t._v(" "),_("td",[t._v("yum update && yum install vim")]),t._v(" "),_("td",[t._v("运行的命令")])]),t._v(" "),_("tr",[_("td",[t._v("WORKDIR")]),t._v(" "),_("td",[t._v("/app")]),t._v(" "),_("td",[t._v("设置镜像的工作目录")])]),t._v(" "),_("tr",[_("td",[t._v("ADD")]),t._v(" "),_("td",[t._v("file")]),t._v(" "),_("td",[t._v("把本机的文件添加到镜像中")])]),t._v(" "),_("tr",[_("td",[t._v("COPY")]),t._v(" "),_("td",[t._v("file")]),t._v(" "),_("td",[t._v("把本机的文件拷贝到镜像中")])]),t._v(" "),_("tr",[_("td",[t._v("ENV")]),t._v(" "),_("td",[t._v("MYSQL_VERSION")]),t._v(" "),_("td",[t._v("设置环境变量")])]),t._v(" "),_("tr",[_("td",[t._v("CMD")]),t._v(" "),_("td",[t._v("echo '123'")]),t._v(" "),_("td",[t._v("容器启动后默认执行")])]),t._v(" "),_("tr",[_("td",[t._v("ENTRYPOINT")]),t._v(" "),_("td",[t._v("echo '123'")]),t._v(" "),_("td",[t._v("容器启动时执行的命令")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("CMD 指定的命令可能被覆盖,ENTRYPOINT指定的不会被覆盖一定会执行")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("FROM node\nWORKDIR /app\nCOPY ./app.js app.js\nRUN npm install koa -S\nEXPOSE 3000\nENTRYPOINT node /app/app.js\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ docker build -t yijie/koa .\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:_(174),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ docker run -d -p 80:3000 --name koaService 0f347d76cb15(image id)\n")])])])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("table",[_("thead",[_("tr",[_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("解释")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("-i")]),t._v(" "),_("td",[t._v("交互式操作")])]),t._v(" "),_("tr",[_("td",[t._v("-t")]),t._v(" "),_("td",[t._v("终端")])]),t._v(" "),_("tr",[_("td",[t._v("-d")]),t._v(" "),_("td",[t._v("守护进程")])]),t._v(" "),_("tr",[_("td",[t._v("-p")]),t._v(" "),_("td",[t._v("容器和宿主机的端口映射")])]),t._v(" "),_("tr",[_("td",[t._v("--name")]),t._v(" "),_("td",[t._v("容器的名字")])]),t._v(" "),_("tr",[_("td",[t._v("-v")]),t._v(" "),_("td",[t._v("持久化数据(这里为了容器内和主机的当前目录共享文件)")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:_(175),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("把容器内的3000端口的服务映射到了本机的80端口,通过访问本机的80端口来验证是否可以访问到\n"),e("img",{attrs:{src:_(176),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("如果想进入容器内部\n"),e("img",{attrs:{src:_(177),alt:""}})])}],r=_(0),n=Object(r.a)({},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{staticClass:"content"},[_("p",[_("a",{attrs:{href:"https://docs.docker.com/engine/reference/builder/#usage",target:"_blank",rel:"noopener noreferrer"}},[t._v("Dockerfile"),_("OutboundLink")],1),t._v(" 基本命令")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),_("p",[t._v("docker 常用的命令")]),t._v(" "),_("p",[t._v("打image\n举个例子,先写一个Dockerfile如下:")]),t._v(" "),t._m(2),_("p",[t._v("打成image")]),t._v(" "),t._m(3),t._m(4),t._v(" "),_("p",[t._v("运行image生成container")]),t._v(" "),t._m(5),_("p",[t._v("参数可以通过 docker run --help 参看具体意思")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9)])},v,!1,null,null,null);e.default=n.exports}}]);